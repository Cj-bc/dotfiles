#+PROPERTY: header-args :tangle "init.el" :results silent
* Emacs Config
  
  ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯Emacsã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
  ~~/.emacs.d/init.el~ ã«æ›¸ãå‡ºã•ã‚Œã¾ã™ã€‚

  åŸºæœ¬çš„ã«ã¯[[https://emacs-jp.github.io/tips/emacs-in-2020][Emacs-jp ã® 2020å¹´ä»£ã®Emacså…¥é–€]] ã¨ [[https://www.youtube.com/channel/UCAiiOTio8Yu69c3XnR7nQBQ][SystemCrafters]]ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ã„ã¾ã™ã€‚
  
** è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š  
*** ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†
    Emacsã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã«ã¯ [[https://github.com/conao3/leaf.el][leaf.el]] ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€
    ãã®åˆæœŸåŒ–ã‚’ã—ã¾ã™ã€‚

    #+begin_src elisp
      ;; Leaf configurations
      (eval-and-compile
        (when (or load-file-name byte-compile-current-file)
          (setq user-emacs-directory
           (expand-file-name
               (file-name-directory (or load-file-name byte-compile-current-file)
         )))))

      (setq tab-width 4)
      (eval-and-compile
        (customize-set-variable
         'package-archives '(("gnu"   . "https://elpa.gnu.org/packages/")
                             ("melpa" . "https://melpa.org/packages/")
                             ("org"   . "https://orgmode.org/elpa/")
                             ))
        (package-initialize)
        (unless (package-installed-p 'leaf)
          (package-refresh-contents)
          (package-install 'leaf)
          )

        (leaf leaf-keywords
          :ensure t
          :init
          ;; Optional packages if you want to use :hydra, :el-get, :blackout,,,
    
          (leaf el-get :ensure t) ; Githubã«ã‚ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«å¿…è¦
          (leaf-keywords-init)
          )
        )

    #+end_src
**** ãƒ˜ãƒ«ãƒ‘ãƒ¼ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
     ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å…¥ã‚Œã¾ã™ã€‚
    
***** ãƒ„ãƒªãƒ¼è¡¨ç¤ºã‚’ã™ã‚‹
      ç”Ÿæˆå¾Œã® ~init.el~ ã«ã¤ã„ã¦ã€imenuã‚’ç”¨ã„ãŸã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³è¡¨ç¤ºã‚’æä¾›ã—ã¦ãã‚Œã¾ã™ã€‚
     #+begin_src elisp
       (leaf leaf-tree :ensure t)
     #+end_src

***** package.elã‹ã‚‰è‡ªå‹•ã§leafã‚’ç”Ÿæˆã™ã‚‹
     #+begin_src elisp
       (leaf leaf-convert :ensure t)
     #+end_src

** ç‹¬è‡ªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®èª­ã¿è¾¼ã¿

   è‡ªåˆ†ã§ä½œæˆã—ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
   
   #+begin_src elisp
     (leaf load-my-lib
       :load-path "~/.emacs.d/lib/"
       :require
       cj-bc/string
       ghq
       org-screenshot-attach
       )
   #+end_src

   
*** blog
    #+begin_src elisp
      (leaf blog
        :require t
        :custom
        (blog-post-dir-path . "~/Documents/ghq/github.com/Cj-bc/blog/posts")
        )
    #+end_src

    
    #+begin_src elisp
      (leaf ol-blog
        :require t
        :ensure nil
    
*** Notes

#+NAME: ol-notes
#+begin_src elisp
  (leaf ol-notes
        :require t
        :ensure nil
        :custom
        (ol-notes-root-dir . "~/Documents/roam/notes")
        )
#+end_src
	
*** org-diary

#+begin_src elisp
  (leaf org-diary
    :require t
    :ensure nil
    :custom
    (org-diary-directory . "~/Documents/roam/daily")
    (org-diary-template . "~/.emacs.d/templates/org-capture/diary")
    )
#+end_src
** å…¥åŠ›ãƒ¡ã‚¾ãƒƒãƒˆ
*** DDSKK

    #+begin_src elisp
      (leaf ddskk :ensure t
          :bind
          ("C-x C-j" . skk-mode)
          :custom
          (default-input-method . "japanese-skk")
          :config
          (add-to-list 'auto-mode-alist '(".*\\.dict$" . skk-jisyo-edit-mode))
          (skk-mode)
          )
    #+end_src
** Org mode!!!
Org modeãŒä½¿ã„ãŸãã¦Emacsã«æ¥ãŸã®ã§...

#+begin_src elisp :noweb yes
  (leaf org
    :bind-keymap
    ("C-c o" . '(keymap (?a . org-agenda)
                        (?t . org-todo-list)
                        (?c . org-capture)
                        ))
    :hook
    <<leaf-org-hook>>
    :custom
    (org-global-properties . '(("TASK_KIND_ALL" . "ã‚„ã‚‹ã“ã¨ ï–½å‹‰å¼· ïˆ¶ä¼‘æ†© ï€•ç”Ÿæ´»")
                               ("BLOG_POST_KIND_ALL" . "Memo Diary Knowledge Advertisment Translation HowTo")
                               ("BLOG_POST_PROGRESS_ALL" . "Empty WIP Published")
                               ("BLOG_POST_STATUS_ALL" . "Normal Archive Accuracy Outdated")
                               ))
    (org-link-abbrev-alist . '<<leaf-org-external-link--get-list()>>)
    (org-todo-keywords . '<<leaf-org-todo-keywords-construct()>>)
    <<leaf-org-custom>>

    :config
    <<leaf-org-config>>
    )
#+end_src
*** ãƒ†ãƒ¼ãƒ–ãƒ«æ›¸å¼
    :PROPERTIES:
    :header-args: :tangle no
    :END:

    ä¸‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«è¿½åŠ ã™ã‚Œã°è‡ªå‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹ã€‚
    ~org-clock-clocktable-default-properties~ ã¨ ~org-agenda-clockreport-parameter-plist~ ã¯åŒã˜ã«ã—ã¦ã‚ã‚‹ã€‚
    
    #+NAME: leaf-org-table-format
    | :maxlevel  | 4      | ã‚¿ã‚¤ãƒ ã‚’å€‹åˆ¥ã§è¡¨ç¤ºã™ã‚‹æ·±ã•                |
    | :scope     | agenda | çµ±è¨ˆã®ç¯„å›²ã‚’agendaãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã«          |
    | :block     | today  | ä»Šæ—¥ã®CLOCKã®ã¿ã‚’çµ±è¨ˆå¯¾è±¡ã«ã™ã‚‹           |
    | :link      | t      | å„CLOCKã¸ã®ãƒªãƒ³ã‚¯ã‚’ä»˜ä¸ã™ã‚‹               |
    | :fileskip0 | t      | CLOCKãŒãªã‹ã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¡¨ç¤ºã—ãªã„ã‚ˆã†ã« |

    #+NAME: leaf-org-table-format--get-properties-list
    #+begin_src elisp :var inp=leaf-org-table-format :tangle no
      (defun read-org-var (raw)
	"Read variable from org mode. 
	 As it returns number if it is number, otherwise string"
	(cond ((stringp raw) (read raw))
	       (t raw))
	)

      (seq-map 'read-org-var
	       (flatten-list
		     (seq-map (lambda (row)
				 `(,(elt row 0) ,(elt row 1)))
			      inp)))
    #+end_src

    #+HEADER: :noweb-ref leaf-org-custom
    #+begin_src elisp :results output :noweb yes :tangle no
    (org-clock-clocktable-default-properties . '<<leaf-org-table-format--get-properties-list()>>)
    (org-agenda-clockreport-parameter-plist . org-clock-clocktable-default-properties)
    #+end_src

*** Agendaè¨­å®š

    #+begin_src elisp :tangle yes
      (leaf org/--agenda
        :ensure nil
        :after org
        :custom
        `(org-agenda-files ,(directory-files "~/Dropbox" t "\.org$"))
        (org-agenda-current-time-string . "â†’ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”")
        (org-agenda-mode-hook . (lambda () (display-line-numbers-mode -1))) ;; è¡Œæ•°ã‚’è¡¨ç¤ºã—ãªã„ã‚ˆã†ã«ã™ã‚‹
        )
    #+end_src
    
**** Custom agenda
#+HEADER: :noweb yes
#+begin_src elisp
  (leaf org-agenda-custom-commands
    :ensure nil
    :after org
    :config
    <<leaf--org-agenda-config>>
    :custom
    (org-agenda-custom-commands .
                                '(("x"
                                   "å…¨ã¦ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¡¨ç¤ºã—ã¾ã™"
                                   agenda
                                   ""
                                   ((org-agenda-span 'year)
                                    (org-agenda-entry-types '(:scheduled)))
                                   )
                                  ("p"
                                   "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®TODO"
                                   todo
                                   "TODO"
                                   ((org-agenda-files projectile-known-projects)
                                    (org-agenda-prefix-format '((todo . "%i %(format (cj-bc-org-agenda-get-project-name file)):\t")))
                                    )
                                   )
                                  ("b"
                                   "ãƒ–ãƒ­ã‚°è¨˜äº‹ã®é€²æ—ç®¡ç†"
                                   tags
                                   "+LEVEL=1-BLOG_POST_PROGRESS=\"Published\""
                                   ((org-agenda-files
                                     (directory-files (concat (ghq-root) "/github.com/Cj-bc/blog/posts") t "\.org$")
                                     )
                                    (org-agenda-prefix-format '((tags . " | ")))
                                    (org-overriding-columns-format "%BLOG_POST_PROGRESS %TAGS %ITEM")
                                    )
                                   )
                                  )))
#+end_src


ãƒ˜ãƒ«ãƒ‘ãƒ¼ç”¨ã®é–¢æ•°ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å–å¾—ã—ã¦ã€
#+HEADER: :noweb-ref leaf--org-agenda-config
#+begin_src elisp
  (defun cj-bc-org-agenda-get-project-name (fullPath)
 "This is helper function just for my custom org-agenda-view.
  Get project name from full path."

 (string-match "/\\([^/]+/\\)+\\([^/]+/[^/]+\\)/" fullPath)
 (match-string 2 fullPath))
#+end_src
*** Todoè¨­å®š
    #+HEADER: :noweb-ref leaf-org-custom
    #+HEADER: :tangle no
    #+begin_src elisp
      (org-enforce-todo-dependencies . t)
    #+end_src

**** Todoã®ç¨®é¡
     Todoã¯è¤‡æ•°ç¨®é¡ä½œã£ã¦ã‚ã‚Šã€ãƒªã‚¹ãƒˆã‹ã‚‰è‡ªå‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

     ãƒªã‚¹ãƒˆã®ä¸­ã§ ~_DELIMITER_~ ã®ã¿ã¯ç‰¹åˆ¥ãªè¨˜å·ã¨ã—ã¦æ‰±ã‚ã‚Œã€
     ~|~ (TODOã¨DONEã‚’åˆ†ã‘ã‚‹ã‚„ã¤)ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚(ç›´æ¥æ›¸ã‘ãªã„ãŸã‚)
***** ã‚¿ã‚¹ã‚¯ç®¡ç†ç”¨TODO
      #+NAME: Org-todoKeywords-list-todo
      + TODO
      + SOMEDAY
      + WAITING
      + _DELIMITER_
      + DONE
      + OutOfDate

      ãƒªã‚¹ãƒˆã®å†…å®¹ã¯Stringã®Listã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹
      
***** ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒªã‚¹ãƒˆ
      #+NAME: Org-todoKeywords-list-reading
      + ReadLater(a!)
      + Reading(i!)
      + _DELIMITER_
      + Read(d!)

***** è²·ã„ç‰©ãƒªã‚¹ãƒˆ
      #+NAME: Org-todoKeywords-list-shopping
      + ToBuy
      + _DELIMITER_
      + Bought(!)
	
***** ãƒãƒ¼ãƒˆãƒ»çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹ç®¡ç†
      æ›´æ–°ãŒå¿…è¦ãªã®ã‹ã€ãã‚Œã¨ã‚‚æœ€æ–°ãªã®ã‹
      å¿…è¦ãªã‚¿ã‚°ã£ã¦ä½•ã ã‚ã†ã‹ï¼Ÿ
      Wikiã«ã‚ã‚‹ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ã‚’æƒ³å®šã—ã¦ã„ã‚‹ã€‚
      
      #+NAME: Org-todoKeywords-list-noteStatus
      + Outofdate
      + Accuracy
      + WIP
      + _DELIMITER_
      + Clean
	
***** è¨­å®š

      #+HEADER: :var todo=Org-todoKeywords-list-todo
      #+HEADER: :var reading=Org-todoKeywords-list-reading
      #+HEADER: :var shoppingList=Org-todoKeywords-list-shopping
      #+HEADER: :var noteStatus=Org-todoKeywords-list-noteStatus
      #+NAME: leaf-org-todo-keywords-construct
      #+begin_src elisp :tangle no

	(defun replaceDelimiter (target-list)
	  (seq-map (lambda (a) (if (string= (car a) "_DELIMITER_")
				   "|" (car a)))
		   target-list))

        (seq-map (lambda (x) `(sequence ,@(replaceDelimiter x)))
             (list todo reading shoppingList noteStatus))
      #+end_src

*** å¤–éƒ¨Link
    :PROPERTIES:
    :header-args: :tangle no
    :END:

    #+NAME: leaf-org-external-link--list
    | github    | https://github.com/%s                  |
    | youtube   | https://youtube.com/watch?v=%s         |
    | wikipedia | https://en.wikipedia.org/wiki/%s       |
    | archw     | https://wiki.archlinux.jp/index.php/%s |

    #+NAME: leaf-org-external-link--get-list
    #+begin_src elisp :var links=leaf-org-external-link--list :results raw :tangle no
      (seq-map '(lambda (link) `(,(elt link 0) . ,(elt link 1))) links)
    #+end_src


**** Ghqå¯¾å¿œ

     ghq:Cj-bc/dotfiles ã¿ãŸã„ãªãƒªãƒ³ã‚¯ã‚’è²¼ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚
     
     #+HEADER:  :noweb-ref leaf-org-config
     #+begin_src elisp
       (leaf org-ghq :require t)
     #+end_src
     
***** TODO Projectileé€£æºã™ã‚‹
     ç¾åœ¨ã¯DiredãŒé–‹ãã‘ã©ã€å¤šåˆ†Projectileã¨é€£æºã•ã›ãŸæ–¹ãŒè‰¯ããªã‚Šãã†

***** TODO è£œå®Œã‚’æœ‰åŠ¹ã«ã™ã‚‹
*** å‡ºåŠ›è¨­å®š
    :PROPERTIES:
    :header-args: :tangle no
    :END:
**** LaTeX
     :PROPERTIES:
     :header-args: :tangle no
     :END:

     [[https://qiita.com/kawabata@github/items/1b56ec8284942ff2646b][org-mode ã§æ—¥æœ¬èªLaTeXã‚’å‡ºåŠ›ã™ã‚‹æ–¹æ³• @kawabata@github]]ã‚’å‚è€ƒã«ã€‚

     #+HEADER: :noweb-ref leaf-org-config
     #+begin_src elisp
       (setq TeX-engine 'luatex)
     #+end_src

	 
     #+HEADER: :noweb-ref leaf-org-config
     #+begin_src elisp
       ;; TODO: ä¾å­˜ã‚’æ¸›ã‚‰ã™
       ;; caseãŒä½¿ã„ãŸã„ã ã‘ãªã®ã§è‡ªä½œã—ãŸã„ã€‚
       (require 'cl)


       (defun remove-org-newlines-at-cjk-text (&optional _mode)
         "å…ˆé ­ãŒ '*', '#', '|' ã§ãªãã€æ”¹è¡Œã®å‰å¾ŒãŒæ—¥æœ¬ã®æ–‡å­—ã®å ´åˆã¯ãã®æ”¹è¡Œã‚’é™¤å»ã™ã‚‹ã€‚"
         (interactive)
         (goto-char (point-min))
         (while (re-search-forward "^\\([^|#*\n].+\\)\\(.\\)\n *\\(.\\)" nil t)
           (if (and (> (string-to-char (match-string 2)) #x2000)
                    (> (string-to-char (match-string 3)) #x2000))
               (replace-match "\\1\\2\\3"))
           (goto-char (point-at-bol))))

       (with-eval-after-load "ox"
         (add-hook 'org-export-before-processing-hook 'remove-org-newlines-at-cjk-text))

	 )
       (setq org-latex-classes
                `(("article"
                   "\\documentclass{ltjsarticle}\n\\usepackage{amsmath}\n"
                   ("\\section{%s}" . "\\section*{%s}")
                   ("\\subsection{%s}" . "\\subsection*{%s}")
                   ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
                   ("\\paragraph{%s}" . "\\paragraph*{%s}")
                   ("\\subparagraph{%s}" . "\\subparagraph*{%s}"))
                  ("report"
                   "\\documentclass{ltjsarticle}\n"
                   ("\\section{%s}" . "\\section*{%s}")
                   ("\\subsection{%s}" . "\\subsection*{%s}")
                   ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
                   ("\\paragraph{%s}" . "\\paragraph*{%s}")
                   ("\\subparagraph{%s}" . "\\subparagraph*{%s}"))
                  ("book"
                   "\\documentclass{ltjsarticle}\n"
                   ("\\part{%s}" . "\\part*{%s}")
                   ("\\chapter{%s}" . "\\chapter*{%s}")
                   ("\\section{%s}" . "\\section*{%s}")
                   ("\\subsection{%s}" . "\\subsection*{%s}")
                   ("\\subsubsection{%s}" . "\\subsubsection*{%s}"))
                  ("beamer"
                   ,(concat
                     "\\documentclass[compress,dvipdfmx]{beamer}\n"
                     "\\usetheme{AnnArbor}\n"
                     "\\setbeamertemplate{navigation symbols}{}\n"
                     "[NO-PACKAGES]\n"
                     "\\usepackage{graphicx}\n")
                   org-beamer-sectioning)))


       (setq org-latex-packages-alist '(("whole" "bxcjkjatype") ("a4paper" "geometry")))

       (setq org-latex-pdf-process '("latexmk -pdf -pvc -shell-escape -pdflatex=lualatex -output-directory=%o %f"))
     #+end_src

     #+RESULTS:
     | whole   | bxcjkjatype |
     | a4paper | geometry    |
**** LaTeX(texwiki.texjp.orgæº–æ‹ )
ã¡ã‚‡ã£ã¨ã‚ˆãåˆ†ã‹ã‚‰ãªããªã‚Šã€

#+begin_src elisp
  (leaf org-config/latex
    :ensure nil
    :config
    (setq TeX-engine 'platex)
    (add-to-list 'org-latex-classes
                 '("vrsj" "\\documentclass[a4paper]{jarticle}
         [NO-DEFAULT-PACKAGES]
         [NO-PACKAGES]
         \\usepackage{vrsjj}
         \\usepackage{balance}
         \\special{pdf: pagesize width 210truemm height 297truemm}
         \\newcounter{vrsjyear}
         \\newcounter{vrsjmonth}
         \\newcounter{vrsjnum}
         \\setcounter{vrsjyear}{2023}
         \\setcounter{vrsjmonth}{9}
         \\setcounter{vrsjnum}{\\value{vrsjyear}}
         \\addtocounter{vrsjnum}{-1995}

         \\renewcommand{\\baselinestretch}{1.32}
         "
                     ("\\section{%s}" . "\\section*{%s}")
                     ("\\subsection{%s}" . "\\subsection*{%s}")
                     ("\\subsubsection{%s}" . "\\subsubsection*{%s}")
                     ))
    (setq org-latex-compiler "platex")
    (setq org-latex-pdf-process
          '("platex %b" "dvipdfmx %b"))

    )
#+end_src

#+RESULTS:
: org-config/latex

*** captureãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
    :LOGBOOK:
    CLOCK: [2021-07-05 Mon 12:34]--[2021-07-05 Mon 12:34] =>  0:00
    :END:
    #+HEADER: :tangle no :noweb-ref leaf-org-custom
    #+begin_src elisp
      `(org-capture-templates .
                             '(("d" "default" plain
                                (file "capture.org")
                                "")
                               ("b" "blog posts")
                               ("bp" "normal post" plain
                                (function blog-visit-new-post)
                                (file "~/.emacs.d/templates/org-capture/blog")
                                :clock-in t
                                :clock-resume t
                                )
                               ("bd" "dialy post" plain
                                (function blog-visit-new-diary)
                                (file "~/.emacs.d/templates/org-capture/blog-diary")
                                )
                               ("d" "diary")
                               ("dm" "Memo" entry
                                (function ,(apply-partially 'org-diary-visit-today "Memo"))
                                )
                               ))
    #+end_src
*** Org babel
    :PROPERTIES:
    :header-args: :tangle no
    :END:
    #+HEADER: :noweb-ref leaf-org-config
    #+begin_src elisp
      (org-babel-do-load-languages
       'org-babel-load-languages
       '((awk . t)
	 (shell . t)
	 (haskell . t)
	 ))
    #+end_src
*** Org roamã§ãƒ¡ãƒ¢ç®¡ç†
    :PROPERTIES:
    :header-args: :tangle no
    :END:
    [[https://www.orgroam.com/][org roam]]ã¯ã€

    #+HEADER: :noweb-ref leaf-org-config :noweb yes
    #+begin_src elisp
      (leaf org-roam
        :emacs>= 26.1
        :ensure t
        :pre-setq
        (org-roam-v2-ack . t)
        :custom
        `(org-roam-directory . ,(file-truename "~/Dropbox/roam"))
        (org-roam-link-auto-replace . t)
        (org-roam-graph-viewer . "qutebrowser")
        (org-roam-completion-everywhere . t)
        <<leaf-org-roam-custom>>
        :config
        <<leaf-org-roam-config>>
        (org-roam-db-autosync-mode)
        )
    #+end_src


    #+begin_src elisp
      (leaf org-roam-evil-key
        :after org-roam evil
        :config
        (evil-define-key 'normal 'global (kbd "SPC r d") 'org-roam-dailies-goto-today)
        (evil-define-key 'normal 'global (kbd "SPC r s") 'org-roam-node-find)
        (evil-define-key 'visual 'org-roam-mode-map (kbd "RET") 'org-roam-node-insert)
        (evil-define-key 'visual 'org-roam-mode-map (kbd "<S-return>") 'cjbc-org-roam-insert-immediate-private)
        (evil-define-key 'normal 'org-roam-mode-map (kbd "SPC r l") 'org-roam-buffer-toggle)
        )
    #+end_src


**** TODO COMMENT ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

     ~DIR~ ã‚’è¨­å®šã—ãŸã„ã“ã¨ãŒå¤šã€…ã‚ã‚‹ã®ã§ã€ ~#+title~ ã§ã¯ãªãã‚¨ãƒ³ãƒˆãƒªã«ã—ã¦ã»ã—ã„ã€‚

     #+HEADER: :tangle no :noweb-ref leaf-org-roam-custom
     #+begin_src elisp
       (org-roam-capture-templates .
                                   '(("o" "object" plain
                                      "%?"
                                      :target (file+head+olp "%<%Y%m%d%H%M%S>-${slug}.org" "#+FILETAGS: :object:" ("${title}"))
                                       :unnarrowed t)
                                   ("p" "person" plain
                                      "%?"
                                      :target (file+head+olp "%<%Y%m%d%H%M%S>-${slug}.org" "#+FILETAGS: :person:" ("${title}"))
                                       :unnarrowed t)
                                   ("r" "reference" plain
                                      "%?"
                                      :target (file+head+olp "%<%Y%m%d%H%M%S>-${slug}.org" "#+FILETAGS: :reference:" ("${title}"))
                                       :unnarrowed t)
                                   ("i" "idea" plain
                                    "%?"
                                    :target (file+olp "%<%Y%m%d%H%M%S>-${slug}.org" ("${title}"))
                                    :unnarrowed t)
                                   ("m" "MOC" plain
                                    "%?"
                                    :target (file+head+olp "%<%Y%m%d%H%M%S>-${slug}.org" "#+FILETAGS: :MOC:" ("MOC ${title}"))
                                    :unnarrowed t)
                                   ))
     #+end_src

     
**** TODO ã‚¿ã‚°ã®ä¸€è¦§ã‚’ä½œã‚‹
     ä»Šã ã¨ä¼¼ã¦ã„ã‚‹ã‚¿ã‚°ãŒè¤‡æ•°å‡ºæ¥ã¦ã—ã¾ã£ãŸã‚Šã—ã¦ã‚‹ã¨æ€ã†ã®ã§ã€‚

     + ğŸ”– :: è¦–è´ã—ãŸè³‡æ–™ã‚„ã€å‹•ç”»ãªã©ã¸ã®ãƒ¡ãƒ¢
     + ğŸ’¡ :: ã‚¢ã‚¤ãƒ‡ã‚¢ç­‰
     + ğŸ¬ :: å‹•ç”»ã®å†…å®¹
       
**** è¡¨ç¤ºç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
help:org-roam-node-display-template ã‚’è¨­å®šã™ã‚‹ã¨ã€ help:org-roam-node-find ã®éš›ã®è¡¨ç¤ºã‚’
ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå‡ºæ¥ã‚‹ã€‚

ã‚¿ã‚°ã‚’ã‚¢ã‚¤ã‚³ãƒ³ã§è¡¨ç¤ºã—ãŸã„ã®ã§ã€org-roam-nodeã®methodã‚’è¿½åŠ ã—ã¦ã„ã‚‹ã€‚
ã“ã®æ–¹æ³•ã«ã¤ã„ã¦ã¯ help:org-roam-node-display-template ã«ã¤ã„ã¦è©³ã—ãæ›¸ã‹ã‚Œã¦ã„ã‚‹ã€‚

#+begin_src elisp
  (leaf org-roam-display-template
    :ensure nil
    :config
    (defvar org-roam-tag-icons #s(hash-table test equal data ("note" "ğŸ“–" "reference" "ğŸ”—")))
    (cl-defmethod org-roam-node-icon-tags ((node org-roam-node))
      (seq-reduce
       '(lambda (a b) (let ((icon (or (gethash b org-roam-tag-icons) b)))
                        (if (string-equal a "") icon (concat a "/" icon))))
       (org-roam-node-tags node) ""))
    (setq org-roam-node-display-template "${icon-tags: 20} | ${title:*} ${tags}"))
#+end_src
**** Privete roamã‚’ä½œæˆã™ã‚‹ãŸã‚ã®ãƒ©ãƒƒãƒ‘ãƒ¼

     Roamã«ã¯ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªãƒãƒ¼ãƒ‰ã‚’gpgä¿è­·ã•ã‚ŒãŸçŠ¶æ…‹ã§ä¿å­˜ã™ã‚‹æ©Ÿèƒ½ãŒã‚ã‚‹ã€‚
     ãŸã ã€ãã®ãŸã‚ã«ã¯ ~org-roam-encrypt-files~ ã‚’æ‰‹å‹•ã§å¤‰ãˆãªãã‚ƒã„ã‘ãªãã¦é¢å€’ã ãŸã®ã§ã€
     é–¢æ•°ã«ã—ãŸã€‚

     #+noweb-ref: leaf-org-roam-config
     #+begin_src elisp
       (defun cjbc-org-roam-private (&optional initial-prompt completions filter-fn no-confirm) 
	 "Small wrapper of 'org-roam-find-file' that will create new post with private(encrypted)"
	 (interactive)
	 (setq-local org-roam-encrypt-files--old-value org-roam-encrypt-files)
	 (setq org-roam-encrypt-files t)
	 (org-roam-capture)
	 (setq org-roam-encrypt-files org-roam-encrypt-files--old-value)
	 )
     #+end_src

     #+noweb-ref: leaf-org-roam-config
     #+begin_src elisp
       (defun cjbc-org-roam-insert-immediate-private (&optional initial-prompt completions filter-fn no-confirm)
	   "Small wrapper of 'org-roam-insert-immediate' to insert new encrypted post"
	 (interactive)
	 (setq-local org-roam-encrypt-files--old-value org-roam-encrypt-files)
	 (setq org-roam-encrypt-files t)
	 (org-roam-insert-immediate)
	 (setq org-roam-encrypt-files org-roam-encrypt-files--old-value)
	 )
     #+end_src
**** org-roam-ui

     #+begin_src elisp
       (leaf org-roam-ui
	 :ensure t
	 :after org-roam
	 )
     #+end_src

*** org pomodoro
    :PROPERTIES:
    :header-args: :tangle no
    :END:

    ä»Šæ‰‹å…ƒã«ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å…¥ã‚Œã¦ãªã‹ã£ãŸã®ã§
    ä¸€æ—¦ ~org-pomodoro-play-sounds~ ã¯ã‚ªãƒ•ã«ã€‚
    
    #+HEADER: :noweb-ref leaf-org-config
    #+begin_src elisp
      (leaf org-pomodoro
	    :req "alert-0.5.10" "cl-lib-0.5"
	    :ensure t
	    :after alert
	    :custom (org-pomodoro-play-sounds . nil)
	    :hook
	    (org-pomodoro-finished-hook
	     . (lambda () (start-process "org-pomodoro-finished-notification" nil
					 "dunstify" "--appname" "Emacs.org-pomodoro"
					 "Pomodoro finished! Start break time...")))
	    (org-pomodoro-break-finished-hook
	     . (lambda () (start-process "org-pomodoro-break-finished-notification" nil
					 "dunstify" "--appname" "Emacs.org-pomodoro"
					 "Pomodoro break is over!")))
	    )
    #+end_src

*** TODO Org timeline -- Agendaã§ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤ºã™ã‚‹
    #+begin_src elisp :tangle no
      (leaf org-timeline
        :ensure t
        :hook
        (org-agenda-finalize-hook . (lambda () (org-timeline-insert-timeline)))
        )
    #+end_src

*** è¦‹ãŸç›®

#+begin_src elisp
  (leaf org-modern
    :ensure t)
#+end_src
*** é€šçŸ¥ã‚’å‡ºã™

#+begin_src elisp
  (leaf org-notifications
    :ensure t
    :after org
    :config
    (org-notifications-start)
    )
#+end_src

*** Org attach screenshot

#+begin_src elisp
  (leaf org-attach-screenshot
    :after org
    :ensure nil
    :require t)
#+end_src

*** imenuã§ã‚ˆã‚Šæ·±ã„éšå±¤ã¾ã§è¡¨ç¤ºã™ã‚‹
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€2éšå±¤ã¾ã§ã—ã‹è¡¨ç¤ºã•ã‚Œãªã„ã€‚
ç§ã¯ã‚‚ã£ã¨æ·±ã„éšå±¤ã¾ã§è¡¨ç¤ºã—ã¦ã»ã—ã„ã®ã§ã€é©å½“ã«å¤§ãã‚ãªæ•°å­—ã‚’è¨­å®šã—ã¦ã„ã‚‹ã€‚

#+HEADER: :noweb-ref leaf-org-config :tangle no
#+begin_src elisp
  (setq org-imenu-depth 10)
#+end_src

help:org-imenu-depth

** SNS
*** Twittering-mode
    ãƒ„ã‚¤ãƒƒã‚¿ãƒ¼ã‚„ã‚ã†ãœ!!ãŠå‰ãƒœãƒ¼ãƒ«ãª!!
    #+begin_src elisp
      (leaf twittering-mode :ensure t)
    #+end_src
*** newsticker
    RSSãƒ•ã‚£ãƒ¼ãƒ‰é–²è¦§ç”¨

    #+NAME: è³¼èª­ä¸­ã®ãƒ•ã‚£ãƒ¼ãƒ‰
    + [[https://www.moguravr.com/feed][Mogura VR]]
    + [[https://news.yahoo.co.jp/rss/topics/top-picks.xml][Yahoo Top picks]]
    + [[https://news.yahoo.co.jp/rss/topics/domestic.xml][Yahoo Japan]]
    
    #+begin_src elisp :tangle no
      (defun parse-feed-link (feed-link)
      "Parse Feed link formatted in Org's link"
       (let ((retrive-link-and-name-regex "\\[\\[\\([^]]+\\)\\]\\[\\([^]]+\\)\\]\\]"))
	 ((string-match retrieve-link-and-name-regex feed-link)
	  ((match-string 2 feed-link) . (match-string 1 feed-link))
	  )
	 )
       )


      (parse-feed-link "[[hoge][aaa]]")
    #+end_src


    
    #+begin_src elisp
      (leaf newsticker
	  :doc "A Newsticker for Emacs."
	  :tag "builtin"
	  :added "2021-05-20"
	  :hook (newsticker-mode-hook . (lambda () (toggle-truncate-lines -1)))
	  :custom
	  (newsticker-url-list . '(("Mogura VR" "https://www.moguravr.com/feed" nil nil nil)
				   ("Yahoo top picks" "https://news.yahoo.co.jp/rss/topics/top-picks.xml"
				    nil nil nil)
				   ("Yahoo japan" "https://news.yahoo.co.jp/rss/topics/domestic.xml"
				    nil nil nil)
				   ))
	  )
    #+end_src

** Evil
   ã“ã‚ŒãŒã‚ã‚‹ã‹ã‚‰å¼•ã£è¶Šã›ãŸã€‚
   #+begin_src elisp
     (leaf evil :ensure t
	:require t
	:config
	(evil-mode)
	(evil-define-key 'insert 'global (kbd "C-x C-o") 'completion-at-point)

	(leaf evil-org :ensure t
	  :hook
	  (org-mode-hook . evil-org-mode)
	  (org-agenda-mode-hook . evil-org-mode)

	  :config
	  (require 'evil-org-agenda)
	  (evil-org-agenda-set-keys)
	  (evil-define-key 'normal 'global (kbd "C-w C-v") 'evil-window-vnew)
	  )
	(leaf evil-surround :ensure t
	  :after 'evil-core
	  :config
	  (evil-surround-mode)
	  (evil-define-key 'visual 'global "sd" 'evil-surround-delete)
	  (evil-define-key 'visual 'global "sa" 'evil-surround-region)
	  (evil-define-key 'visual 'global "sr" 'evil-surround-change)
	)
	(leaf evil-numbers :ensure t
	  :after 'evil-core
	  )
	)
   #+end_src

*** TODO åˆ†è§£ã™ã‚‹
*** TODO DocViewã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
    å¤šåˆ†æ›¸ãoræ‹¾ã£ã¦ãã‚‹
*** textobjects
    #+begin_src elisp
      (leaf evil-textobj-parameter
	    :el-get Cj-bc/evil-textobj-parameter
	    :require t
	    :config
	    (define-key evil-inner-text-objects-map "," 'evil-textobj-parameter-inner-parameter)
	    (define-key evil-outer-text-objects-map "," 'evil-textobj-parameter-outer-parameter)
	    )
    #+end_src
**** a defun

#+begin_src elisp
  (leaf evil-textobj-defun
    :require nil
    :config
    (evil-define-text-object evil-a-defun (count &optional beg end type)
      "Select a defun expression."
      :extend-selection t
      (evil-select-an-object 'evil-defun beg end type count))
    (define-key evil-outer-text-objects-map "d" 'evil-a-defun)
    )
#+end_src
**** Evil surround LaTeX

#+begin_src elisp
  (leaf evil-surround-latex
    :ensure nil
    :after 'evil-surround
    :hook latex-mode-hook)
#+end_src
**** LaTeX textobject

#+begin_src elisp
  (leaf evil-textobj-latex
    :require t
    :ensure nil
    :after 'evil
    )
#+end_src

** Projectile
   #+begin_src elisp :noweb yes 
     (leaf projectile
       :ensure t
       :custom
       (projectile-project-search-path . (list ghq-root))
       (projectile-enable-caching . t)
       (projectile-project-root-files-bottom-up
        . '<<leaf-projectile-project-root-files-bottom-up--list()>>)

       :config
       (projectile-mode +1)
       (define-key projectile-mode-map (kbd "M-p") 'projectile-command-map)
       )
   #+end_src


   #+NAME: leaf-projectile-project-root-files-bottom-up--list
   #+HEADER: :var l=leaf-projectile-project-root-files-bottom-up--names
   #+begin_src elisp :results value :tangle no
     (seq-map 'car l)
   #+end_src

*** ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã¨è¦‹åšã™ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€è¦§

    #+NAME: leaf-projectile-project-root-files-bottom-up--names
    + angular.json
    + stack.yaml
    + .git
    + .projectile
      
** è£œå®Œå‘¨ã‚Š
Ivyã‚’ä½¿ç”¨ã—ã¦ã„ãŸæ‰€ã‹ã‚‰å¾ã€…ã«åˆ†å‰²ã—ã¦ã„ã“ã†ã¨ã—ã¦ãŠã‚Šã€
consultã‚’ä½¿ã†ã¾ã§ã‚‚ãªã•ãã†ãªã‚‚ã®ã‚’ä¸€æ™‚çš„ã«ã“ã“ã«ä¿å­˜ã—ã¾ã™ã€‚

#+begin_src elisp
  (leaf cj-bc/completions
    :require nil
    :ensure nil
    :config
    (fido-vertical-mode)
    )
#+end_src

*** ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯
#+begin_src elisp
  (require 'bookmark)
  (defun cj-bc/completions/bookmark ()
      ""
    (interactive)
    (pcase (completing-read "jump to bookmark: " (bookmark-all-names))
      ('nil nil)
      (bookmark (bookmark-jump bookmark))))

  (global-set-key (kbd "C-x r l") #'cj-bc/completions/bookmark)
#+end_src

*** in-bufferè£œå®Œã™ã‚‹: corfu

#+begin_src elisp
  (leaf corfu
    :ensure t
    :bind
    (:corfu-map
     ("C-p" . corfu-previous)
     ("C-n" . corfu-next))
    :config
    (global-corfu-mode))
#+end_src

**** ãƒŸãƒ‹ãƒãƒƒãƒ•ã‚¡ãƒ¼ã§ã‚‚ä½¿ç”¨å‡ºæ¥ã‚‹ã‚ˆã†ã«ã™ã‚‹
[[https://github.com/minad/corfu?tab=readme-ov-file#completing-in-the-minibuffer][å…¬å¼ã®README]]ã«ã‚ã‚‹ä¾‹ã‚’å€Ÿã‚Šã‚‹ã€‚

#+begin_src elisp
  (defun corfu-enable-in-minibuffer ()
  "Enable Corfu in the minibuffer."
  (when (local-variable-p 'completion-at-point-functions)
    (setq-local corfu-echo-delay nil ;; Disable automatic echo and popup
                corfu-popupinfo-delay nil)
    (corfu-mode 1)))
  (add-hook 'minibuffer-setup-hook #'corfu-enable-in-minibuffer)
#+end_src
*** marginalia

#+begin_src elisp
  (leaf marginalia
    :ensure t
    :config
    (marginalia-mode))
#+end_src

** migemo
#+begin_src elisp
  (leaf migemo
    :ensure t
    :require t
    :custom
    (migemo-command . "cmigemo")
    (migemo-options . '("-q" "--emacs"))
    (migemo-coding-system . 'utf-8-unix)
    (migemo-dictionary . "/usr/share/migemo/utf-8/migemo-dict")
    (migemo-user-dictionary . nil)
    (migemo-regex-dictionary . nil)
    :config
    (when (and (processp migemo-process)
               (eq (process-status migemo-process) 'run))
      (migemo-kill))
    (migemo-init)
    )
#+end_src

#+begin_src elisp
  (leaf ivy-migemo
    :after ivy migemo
    :ensure t
    :require t
    :config
    (ivy-migemo-toggle-migemo)
    (setq ivy-re-builders-alist
          (mapcar '(lambda (pair)
                     (list (car pair)
                           (pcase (cdr pair)
                             ('ivy--regex-fuzzy 'ivy-migemo-regex-fuzzy)
                             ('ivy--regex-plus 'ivy-migemo-regex-plus)
                             (x x)))
                     ) ivy-re-builders-alist))
    )
#+end_src

#+begin_src elisp :tangle no
  (leaf avy-migemo
    :after avy migemo
    :require t
    :ensure t)
#+end_src
** å‹•ã
*** Avy
#+begin_src elisp
  (leaf avy
    :ensure t
    ;; :bind
    ;; (evil-normal-state-map ([remap evil-find-char] . evil-avy-goto-char-2))
    :config
    (evil-define-key '(normal motion) 'global "f" 'evil-avy-goto-char-in-line)
    (evil-define-key '(normal) 'global (kbd "M-a") 'avy-goto-char-2)
    )
#+end_src

** Magit
   #+begin_src elisp
     (leaf magit
       :ensure t
       :bind
       ("C-x g" . nil)
       :bind-keymap
       ("C-c g" . '(keymap (?l . magit-log)
                           (?s . magit-status)
                           ))
       )
   #+end_src
** é–‹ç™ºç’°å¢ƒ
*** ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
	#+begin_src elisp
          (leaf plantuml-mode
            :ensure t
            :custom
            (plantuml-default-exec-mode . 'executable)
            (plantuml-indent-level . 2)
            )

          (leaf ob-plantuml
            :ensure nil
            :require 'ob-plantuml
            :after plantuml-mode org
            :custom
            (org-plantuml-exec-mode . 'plantuml)
            (org-plantuml-jar-path . "/usr/share/java/plantuml/plantuml.jar")
            )
	#+end_src
**** Mermaid
#+begin_src elisp
  (leaf mermaid-ts-mode
    :ensure t
    )
#+end_src

*** Repl
    #+begin_src elisp
      (leaf quickrun
	:doc "Run commands quickly"
	:req "emacs-24.3"
	:tag "emacs>=24.3"
	:added "2022-01-12"
	:url "https://github.com/syohex/emacs-quickrun"
	:emacs>= 24.3
	:ensure t)
    #+end_src
*** ç’°å¢ƒã®ä¸€è‡´

    #+begin_src elisp
      (leaf editorconfig
	:ensure t)
    #+end_src

*** ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹: Yasnippet
#+begin_src elisp
  (leaf yasnippet
    :ensure t
    :require t
    :hook (prog-mode-hook . yas-minor-mode)
    :custom `(yas-snippet-dirs . '(,(locate-user-emacs-file "yasnippet")))
    )
#+end_src

*** æ–°è¦ä½œæˆæ™‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å…¥ã‚Œã‚‹: auto-insert-mode & yatemplate
æ–°è¦ä½œæˆæ™‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæŒ¿å…¥è‡ªä½“ã¯ help:auto-insert-mode å˜ä½“ã§å¯èƒ½ã ãŒã€
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨˜è¿°ãŒå¤§åˆ†é¢å€’ãªã®ã§ [[https://github.com/mineo/yatemplate][mineo/yatemplate]] ã‚’ä½¿ã†ã€‚

#+begin_src elisp
  (leaf yatemplate
    :ensure t
    :custom
    `(yatemplate-dir . ,(locate-user-emacs-file "templates/yatemplate"))
    :config
    (yatemplate-fill-alist)
    )

  (leaf auto-insert-mode
    :ensure nil
    :config
    (auto-insert-mode 1)
    )
#+end_src

*** Eshell
#+begin_src elisp
  (leaf em-prompt
    :doc "EShellã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’æä¾›ã—ã¦ã„ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸"
    :ensure nil
    :require nil
    :custom
    (eshell-prompt-function . (lambda () (concat (eshell/basename (eshell/pwd))
                                                 (if (= (user-uid) 0) " # " " $ "))))
    )
#+end_src

*** cMake
#+begin_src elisp
  (leaf cmake-mode
   :ensure t)
#+end_src

*** ãƒ•ã‚¡ã‚¤ãƒ©ãƒ¼
#+begin_src elisp
  (leaf treemacs
    :ensure t
    :bind
    ("C-c f" . 'treemacs)
    )
#+end_src

*** Emmet
#+begin_src elisp
  (leaf emmet-mode
    :ensure t
    :require t
    :hook
    (html-mode-hook . 'emmet-mode))
#+end_src

*** Nix

#+begin_src elisp
  (leaf nix-mode
    :ensure t)
#+end_src

*** Treesitter

#+begin_src elisp
  (leaf treesit-auto
    :ensure t
    :require t
    :config
    (global-treesit-auto-mode))
#+end_src

** ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
*** SATySFi
#+begin_src elisp
  (leaf satysfi-mode
    :el-get gfngfn/satysfi.el
    :ensure nil
    :require 'satysfi
    :custom
    (satysfi-pdf-viewer-command . "mupdf")
    :config
    (add-to-list 'auto-mode-alist '("\\.saty$" . satysfi-mode))
    (add-to-list 'auto-mode-alist '("\\.satyh$" . satysfi-mode))
    )
#+end_src
*** LaTeX
~latex-mode~ ã§ç·¨é›†ã™ã‚‹æ™‚ã®ãŸã‚ã®è¨­å®šã€‚

#+begin_src elisp
  (leaf latex-config
    :ensure nil
    :custom
    (latex-run-command . "platex")
    (tex-dvi-print-command . "dvipdfmx")
    (tex-bibtex-command . "pbibtex"))
#+end_src

æ—¥æœ¬èªã‚’æ‰±ã†ãŸã‚ã€platexã‚’åˆ©ç”¨ã™ã‚‹ã€‚ãã®ä»–ã®è¨­å®šç­‰ã¯ã¾ãŸå¾Œæ—¥ã€‚
~C-c C-f~ ã§texã‹ã‚‰dviãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã€ãã®å¾Œ ~C-c C-p~ ã§pdfãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚

** ãƒ¡ãƒ¢å–ã‚Šãƒ»ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰
*** Orgãƒ•ã‚¡ã‚¤ãƒ«ä»¥å¤–ã§ã®ãƒªãƒ³ã‚¯ã‚’æ§‹ç¯‰ã™ã‚‹
    Orgãƒ•ã‚¡ã‚¤ãƒ«ä»¥å¤–ã§ã‚‚ã€ãƒªãƒ³ã‚¯æ©Ÿèƒ½ãŒä½¿ãˆã‚‹ã¨ä¾¿åˆ©
    (e.g. ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ¡ãƒ³ãƒˆã«roamã¸ã®ãƒªãƒ³ã‚¯ã‚’è²¼ã‚‹ãªã©)
    ãªã®ã§ã€Hyperboleã‚’ä½¿ã£ã¦ã¿ã‚‹
    
**** GNU Hyperbole
#+begin_src elisp
  (leaf hyperbole
    :ensure t
    )
#+end_src
     
*** Wiki

    #+begin_src elisp
      (leaf org-wiki
	:ensure nil
	:custom
	(org-wiki-location-list . '("~/Documents/wiki"))
	(org-wiki-location . (car org-wiki-location-list))

	)
    #+end_src
** è¦‹æ „ãˆã‚’è‰¯ãã™ã‚‹
*** rainbow-delimiters
    Lispç³»ã®è¨€èªã¯æ‹¬å¼§ã®å¯¾å¿œãŒã¨ã¦ã‚‚è¦‹è¾›ã„ã®ã§ã€
    å¯¾å¿œã™ã‚‹æ‹¬å¼§ã«è‰²ã‚’ä»˜ã‘ã¦ã‚‚ã‚‰ã†
    
    #+begin_src elisp
	(leaf rainbow-delimiters :ensure t
	  :hook
	  (prog-mode-hook . rainbow-delimiters-mode))
    #+end_src

** ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªæ¯ã®è¨­å®š
*** Haskell
    #+begin_src elisp
      (leaf haskell-mode :ensure t)
    #+end_src
*** TypeScript
    #+begin_src elisp
      (leaf typescript-mode
	:ensure t
	)
    #+end_src
*** Kotlin
    #+begin_src elisp
      (leaf kotlin-mode
	:ensure t
	)
    #+end_src

    #+begin_src elisp
      (leaf ob-kotlin
	:ensure t
	)
    #+end_src
*** Dockerfile

    #+begin_src elisp
      (leaf dockerfile-mode
	:ensure t
	)
    #+end_src
*** Rust
#+begin_src elisp
  (leaf rust-mode
    :doc "A major-mode for editing Rust source code"
    :req "emacs-25.1"
    :tag "languages" "emacs>=25.1"
    :added "2022-01-20"
    :url "https://github.com/rust-lang/rust-mode"
    :emacs>= 25.1
    :ensure t)
  (leaf cargo-mode
    :doc "Cargo Major Mode. Cargo is the Rust package manager"
    :req "emacs-25.1"
    :tag "tools" "emacs>=25.1"
    :added "2022-01-20"
    :url "https://github.com/ayrat555/cargo-mode"
    :emacs>= 25.1
    :ensure t)
#+end_src
*** Common Lisp
#+begin_src elisp
  (leaf sly
    :ensure t
    :bind
    (:sly-editing-mode-map
     ("M-p" . nil)
     ("M-n" . nil)
     ("C-c M-p" . 'sly-previous-note)
     ("C-c M-n" . 'sly-next-note)
     )
    :custom
    (inferior-lisp-program . '("ros" "run"))
    )
#+end_src
*** Go
#+begin_src elisp
  (leaf go-mode
    :ensure t
    :hook
    (go-mode-hook . (lambda () (setq-local tab-width 2)))
    (go-mode-hook . (lambda () (add-hook 'before-save-hook #'gofmt-before-save nil t))))
#+end_src

#+begin_src elisp
  (leaf go-projectile
    :ensure t
    :require t)
#+end_src
*** lua
#+begin_src elisp
  (leaf lua-mode
    :ensure t)
#+end_src
*** Elisp

#+begin_src elisp
  (leaf elisp-config
    :ensure nil
    :config
    (defun user-config/elisp-config/outline-level ()
      "Custom function for `outline-level'"
      (- (match-end 1) (match-beginning 1)))
    (defun user-config/elisp-config/setup-outline ()
      (setq-local outline-regexp (rx (seq ";;;" (group (* ?\;)) " " (+ (or (syntax word) (syntax whitespace))) ":")))
      (setq-local outline-level 'user-config/elisp-config/outline-level)
      (outline-minor-mode +1))
    (add-hook 'emacs-lisp-mode-hook 'user-config/elisp-config/setup-outline))
#+end_src
** Appearences
   #+begin_src elisp
     (leaf appearences
       :config
       (set-terminal-coding-system 'utf-8)
       (set-keyboard-coding-system 'utf-8)
       (prefer-coding-system 'utf-8)
       (add-to-list 'default-frame-alist '(font . "Cica-20"))
     )
   #+end_src
   
*** ãƒ†ãƒ¼ãƒ
    #+begin_src elisp
      (leaf doom-themes
	; :doc "an opinionated pack of modern color-themes"
	; :req "emacs-25.1" "cl-lib-0.5"
	; :tag "faces" "custom themes" "emacs>=25.1"
	; :added "2021-06-21"
	; :url "https://github.com/hlissner/emacs-doom-themes"
	; :emacs>= 25.1
	:ensure t
	:config
	(load-theme 'doom-dracula t)
	)
    #+end_src

** keybinds
   #+begin_src elisp
     (leaf window-movements
	 :doc "vim-like window movement keybinds"
	 :bind
	 (("C-c C-w h" . windmove-left)
	  ("C-c C-w j" . windmove-down)
	  ("C-c C-w k" . windmove-up)
	  ("C-c C-w l" . windmove-right)
	 )
       )
   #+end_src

** configure global modes
   #+begin_src elisp
     (leaf configure-global-modes
       :config
       (column-number-mode)
       (global-display-line-numbers-mode t)
       (setq display-line-numbers-type 'relative)
       (menu-bar-mode 0)
       (tool-bar-mode 0)
       (scroll-bar-mode 0)
       (auto-revert-mode)

       (show-paren-mode)
     )
   #+end_src

   
*** DocView

    åŸºæœ¬çš„ã«ã¯ã€Evilã¨ã®ç›¸æ€§ã‚„èª¤ã‚­ãƒ¼æŠ¼ä¸‹ã‚’é˜²ããŸã‚ã®è¨­å®š
    #+begin_src elisp
      (leaf doc-view
        :doc "Document viewer for Emacs"
        :tag "builtin"
        :added "2021-06-25"
        ;; :custom (doc-view-pdf->png-converter-function . 'doc-view-pdf->png-converter-mupdf)
        :bind (:doc-view-mode-map
               ("k" . doc-view-previous-page)
               ("j" . doc-view-next-page)
               ("w" . nil)
               )
        :hook (doc-view-minor-mode-hook
               . (lambda () (display-line-numbers-mode "Disable")))
        )
    #+end_src


*** Auto-Save mode

#+begin_src elisp
  (leaf auto-save-mode
    :ensure nil
    :custom
    (delete-auto-save-files . t) ;; Delete auto-save file when a true save is done
    )
#+end_src


** custom, etc
   #+begin_src elisp
     (setq custom-file "~/.emacs.d/custom.el")
     ; (load custom-file)

     (provide 'init)
   #+end_src

*** URLãƒãƒ³ãƒ‰ãƒ©

#+begin_src elisp
  (leaf cj-bc/config/url-handlers
    :custom
    (browse-url-handlers . '(("\\`file://.*\\.pdf" . browse-url-emacs))))

#+end_src
